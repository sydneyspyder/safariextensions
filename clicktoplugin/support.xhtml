<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta name="author" content="Marc Hoyois"/>
	<title>ClickToPlugin support</title>
	<link rel="stylesheet" href="../../styles.css"/>
</head>
<body id="top">
<header>
<h1>ClickToPlugin support</h1>
<nav>
<h3 class="offscreen">Navigation</h3>
<a href="../../">Home</a> &gt; <a href="./">ClickToPlugin &amp; ClickToFlash</a> &gt; <a>Support</a>
<nav>
<h4>Contents</h4>
<ul>
	<li><a href="#faq">FAQ</a></li>
	<li><a href="#known_bugs">Known bugs</a></li>
	<li><a href="#common_issues">Solutions to common issues</a></li>
	<li><a href="#common_invisible">List of common invisible elements</a></li>
	<li><a href="#safari_bugs">Safari bugs</a></li>
</ul>
</nav>
</nav>
</header>

<section id="faq">
<header>
<h2>FAQ</h2>
<div class="toplink"><a href="#top">To the top</a></div>
</header>

<h4 id="faq_uninstall" class="question">How do I uninstall ClickToPlugin?</h4>
<p class="answer">Open Safari’s preferences from the Safari menu in the menu bar; click on the Extensions tab, then click on ClickToPlugin in the left column; finally, click the Uninstall button in the right-hand pane.</p>


<h4 id="faq_installedplugins" class="question">Does the replacement of plug-ins by HTML5 require these plug-ins to be installed?</h4>
<p class="answer">No. However, websites can check if your browser supports a given plug-in, and change the page accordingly. For example, Dailymotion and Facebook do not insert the Flash player into the page unless Flash is enabled, so there’s nothing for ClickToPlugin to replace.</p>

<h4 id="faq_wildcards" class="question">Can I use wild cards in the whitelists?</h4>
<p class="answer">All whitelist-like text fields in the preferences support regular expressions. For a string to be considered as a regular expression, it must be preceded by the <code>@</code> symbol. These regular expressions must follow the Javascript syntax (in particular, lookbehinds are not supported). Invalid regular expressions are ignored.</p>

<h4 id="faq_preference_access" class="question">How do I access ClickToPlugin’s preferences?</h4>
<p class="answer">There are three ways to access ClickToPlugin’s preference pane:</p>
<ul>
	<li>From <b>Safari’s preferences</b>: open Safari’s preferences from the Safari menu in the menu bar; click on the Extensions tab, then click on ClickToPlugin in the left column; finally, click on the checkbox labeled “Click this checkbox to access the settings”.</li>
	<li>From the <b>shortcut menu</b> (or contextual menu): right-click on any web page and choose “ClickToPlugin Preferences…” from the shortcut menu. This menu command will not appear if you have disabled it from within ClickToPlugin’s preferences.</li>
	<li>Using a <b>keyboard shortcut</b>: within ClickToPlugin’s preferences you can set a keyboard shortcut to open the preferences. By default, this keyboard shortcut is <kbd>⌥,</kbd> (Option-Comma).</li>
</ul>

<h4 id="faq_prefpane" class="question">Can you move the extension’s preferences back to the dedicated area in Safari’s preferences?</h4>
<p class="answer">Not until all of the following are possible within that dedicated area: language localization; displaying the list of installed plug-ins; customizable keyboard shortcuts; multiline text areas.</p>

<h4 id="faq_html5replacements" class="question">Could you add HTML5 replacements for …?</h4>
<p class="answer">Maybe. Contact me with as much information as possible on the videos you’d like to see replaced, including at least:</p>
<ul>
	<li>a link to a page with a video;</li>
	<li>if the plug-in-based player offers several video resolutions, links to pages showcasing varying available resolutions;</li>
	<li>links to the plug-in-based player documentation if there is one.</li>
</ul>
<p>Note that I will not be adding killers to the extension from now on. New killers will be uploaded <a href="killers.xhtml#database">here</a> and can be installed following <a href="killers.xhtml#add_killers">these instructions</a>. You can also <a href="killers.xhtml#create_killers">make killers yourself</a> and send them to me for sharing.</p>

<h4 id="faq_invisible" class="question">Why would I want to allow invisible plug-ins?</h4>
<p class="answer">You don’t. For security and privacy reasons, automatically allowing invisible plug-ins on random pages is not recommended: they are often used to spy on your browsing habits and can store cookies that bypass any of the browser’s privacy settings. Also, it is possible for a plug-in object to be small at first but grow once it is loaded.</p>

<h4 id="faq_sunspider" class="question">Why does ClickToPlugin slow down the SunSpider Javascript benchmark?</h4>
<p class="answer">This is a <a href="#safari_bugs">bug in Safari</a> which affects all extensions that use messaging from the global page to content scripts. It does not indicate that there is something wrong with these extensions, nor that they have a negative effect on Safari’s performance in real-life usage.</p>

<p>In the case of ClickToPlugin, removing the unique listener to <code>message</code> events from the content scripts (which is not needed for ClickToPlugin’s core functionality) results in a SunSpider benchmark which is identical to that obtained with no extensions.</p>

<h4 id="faq_youtubehtml5" class="question">Why is the performance of YouTube’s own HTML5 player significantly worse than ClickToPlugin’s or even than Flash?</h4>
<p class="answer">It’s because you have Perian installed and YouTube’s HTML5 player uses the WebM version of the video instead of the H.264 version when possible. YouTube does not provide a way to choose the H.264 version, but this can be done using a custom script such as <a href="http://hoyois.github.com/safariextensions/universalextension/#webm_disabler">this one</a> or by upgrading to Safari 6 which <a href="http://trac.webkit.org/changeset/117147">hides WebM playback capability on YouTube</a>.</p>

<h4 id="faq_placeholderstyle" class="question">Can I change the default style of the placeholders?</h4>
<p class="answer">Yes, you can override any extension’s styles in your user stylesheet (selected in Safari’s Advanced preferences). You simply have to make sure that your selectors have higher specificity than those in <a href="https://github.com/hoyois/clicktoplugin/blob/master/ClickToPlugin.safariextension/styles.css">ClickToPlugin’s stylesheet</a>.</p>

<h4 id="faq_license" class="question">What license is your code under?</h4>
<p class="answer">All my code on GitHub is under the <a href="http://sam.zoy.org/wtfpl/COPYING">WTFPL</a> license.</p>

<h4 id="faq_chrome" class="question">Can you make a Chrome version of ClickToPlugin?</h4>
<p class="answer">No, but you can!</p>
</section>

<section id="known_bugs">
<header>
<h2>Known bugs</h2>
<div class="toplink"><a href="#top">To the top</a></div>
</header>

<p>Due to the nature of Safari extensions, it is not possible for an extension like ClickToPlugin to “just work” on all imaginable web pages. ClickToPlugin includes several mechanisms to minimize undesirable behavior while avoiding site-specific hacks. Still, there are known websites where ClickToPlugin does not work as expected; they are listed in the table below.  Note that the “Disable ClickToPlugin” shortcut menu item provides a universal workaround.</p>

<table>
<thead>
<tr>
	<th>Domain affected</th>
	<th>Description of the bug</th>
	<th>Reason</th>
	<th>Workaround</th>
</tr>
</thead>
<tbody>
<tr>
	<td>movies.yahoo.com</td>
	<td>After clicking on the Flash placeholder to watch a movie trailer, the Flash player does not load.</td>
	<td>The modification of the DOM tree by ClickToPlugin causes an uncaught error in one of the document’s scripts.</td>
	<td>Whitelist the source <code>d.yimg.com/nl/movies/</code></td>
</tr>
<tr>
	<td>wiki.teamfortress.com</td>
	<td>Clicking on the Flash placeholders for embedded YouTube videos has no effect.</td>
	<td>The placeholder is a superficial copy of the one created by ClickToPlugin.</td>
	<td>Whitelist the location <code>wiki.teamfortress.com</code></td>
</tr>
</tbody>
</table>

</section>

<section id="common_issues">
<header>
<h2>Solutions to common issues</h2>
<div class="toplink"><a href="#top">To the top</a></div>
</header>

<h4 id="broken_page">“I found a web page that does not work with ClickToPlugin enabled, but does when ClickToPlugin is disabled. Surely there is a bug in ClickToPlugin!”</h4>

<p>More likely the web page’s functionality relies on a hidden or very small plug-in object which ClickToPlugin blocks. In many cases the “Load All Plug-ins” command is enough to restore the web page to a working state. A permanent solution for all cases is the following. Select the “Block plug-ins manually” checkbox in the preferences and reload the page. For every plug-in object on the page, a dialog will appear: click OK to block the object and Cancel to load it. Use this to find out which objects must be loaded for the page to work, and match their sources (given in the dialogs) using the sources whitelist. See also the <a href="#common_invisible">list of common invisible elements</a> below.</p>

<h4 id="youtube_html5">“Flash is not blocked on YouTube anymore!”</h4>

<p>This never has and will never happen. What happens is that YouTube now has its own HTML5 player which looks very similar to its Flash player. The HTML5 player is used instead of the Flash player if either (1) you are enrolled in YouTube’s <a href="http://www.youtube.com/html5">HTML5 trial</a> or (2) you do not have the Flash plug-in. In case (1) you can simply leave the HTML5 trial. In case (2), you can install <a href="https://github.com/downloads/hoyois/safariextensions/DisableYouTubeHTML5.safariextz">this tiny extension</a> (direct link) which prevents YouTube from replacing the Flash player by the HTML5 player.</p>

<h4 id="download_qtp_airplay">“This video cannot be downloaded/viewed in QuickTime Player/viewed on my AirPlay device!”</h4>

<p>This can happen for a variety of reasons over which ClickToPlugin has no control. For example, the server can refuse to respond to requests made from Safari’s downloader or from an Apple TV, and there are video formats that can be played in Safari but not in QuickTime Player or on a given AirPlay device.</p>

<p>Known cases include Dailymotion videos, which can be played neither in QuickTime Player nor on an Apple TV.</p>

<h4 id="ineffective_whitelist">“I whitelisted a page but some plug-ins are still being blocked!”</h4>

<p>This is because a single tab can contain documents whose URLs are different than the URL displayed in the Address Field. To find out the URL of the document containing a blocked object, select the “Block plug-ins manually” checkbox in the preferences, right-click the object’s placeholder, and choose “Get Plug-in Info”.</p>

<h4>“I’ve read this whole page carefully but I still have a problem!”</h4>

<p><a href="#faq_uninstall">Uninstall</a> and reinstall the extension (this will reset the extension’s settings). If that doesn’t fix your problem, then you can <a href="./#contact">contact me</a> and I’ll be happy to help.</p>
</section>

<section id="common_invisible">
<header>
<h2>List of common invisible elements</h2>
<div class="toplink"><a href="#top">To the top</a></div>
</header>

<p>This is a list of invisible elements that you may want to add to the sources whitelist.</p>

<table>
<thead>
<tr>
	<th>Domains</th>
	<th>Function of invisible element</th>
	<th>Source match</th>
</tr>
</thead>
<tbody>
<tr>
	<td>www.amazon.*</td>
	<td>Play music samples</td>
	<td><code>g-ecx.images-amazon.com</code></td>
</tr>
<tr>
	<td>www.pandora.com</td>
	<td>Play music</td>
	<td><code>www.pandora.com/js/libs/jquery.jplayer-2.1.0/Jplayer.swf</code></td>
</tr>
<tr>
	<td>www.discogs.com, prostopleer.com, soundcloud.com, …</td>
	<td>Required by SoundManager2</td>
	<td><code>soundmanager2</code></td>
</tr>
<tr>
	<td>*</td>
	<td>Required by Yahoo! Media Player</td>
	<td><code>flashsound</code></td>
</tr>
<tr>
	<td>*</td>
	<td>Required by Yahoo! WebPlayer</td>
	<td><code>/pb/webplayer</code></td>
</tr>
</tbody>
<tbody>
<tr>
	<td>www.cnbc.com</td>
	<td>Loads stock market indexes</td>
	<td><code>quote.cnbc.com/quoteproxy.swf</code></td>
</tr>
<tr>
	<td>www.hulu.com</td>
	<td>Loads the main video player</td>
	<td><code>www.hulu.com/loadplayer.swf</code></td>
</tr>
<tr>
	<td>www.rdio.com</td>
	<td>Loads the main content</td>
	<td><code>www.rdio.com/media/flash/player.swf</code></td>
</tr>
</tbody>
<tbody>
<tr>
	<td>mail.google.com</td>
	<td>Upload several attachments simultaneously</td>
	<td><code>mail.google.com/mail/uploader/uploaderapi2.swf</code></td>
</tr>
<tr>
	<td>mail.yahoo.com</td>
	<td>Upload attachments</td>
	<td><code>mail.yahoo.com/neo/assets/swf/uploader.swf</code></td>
</tr>
</tbody>
</table>
</section>

<section id="safari_bugs">
<header>
<h2>Safari bugs</h2>
<div class="toplink"><a href="#top">To the top</a></div>
</header>

<p>This is a list of known bugs in the latest release of Safari or in the WebKit nightly builds that affect parts of the extension.</p>

<table>
<thead>
<tr>
	<th>Report</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td><a href="https://bugs.webkit.org/show_bug.cgi?id=44023">#44023</a></td>
	<td>The Java plug-in cannot be blocked when embedded via an <code>&lt;applet&gt;</code> element.</td>
</tr>
<tr>
	<td><a href="https://bugs.webkit.org/show_bug.cgi?id=74451">#74451</a></td>
	<td>The presence of any <code>beforeload</code> event listener can break scripts that rely on an image’s <code>load</code> event.</td>
</tr>
<tr>
	<td>?</td>
	<td>The presence of a <code>beforeload</code> event handler with trivial content can reproducibly make Safari crash, possibly when handling certain plug-ins. This affects SharePoint websites and LogMeIn.</td>
</tr>
<tr>
	<td><a href="http://openradar.appspot.com/radar?id=1305402">rdar://9950247</a></td>
	<td>Listening to <code>message</code> events on <code>safari.self.tab</code> slows down the SunSpider Javascript benchmark significantly.</td>
</tr>
<tr>
	<td><a href="https://bugs.webkit.org/show_bug.cgi?id=91344">#91344</a></td>
	<td>The fullscreen volume slider does not respond to changes of volume.</td>
</tr>
<tr>
	<td><a href="https://bugs.webkit.org/show_bug.cgi?id=23364">#23364</a></td>
	<td>Subpixel antialiasing is disabled in hardware accelerated layers. As soon as a media element starts playing, the text in its controls, in ClickToPlugin’s source selector, and in ClickToPlugin’s preference window will be affected.</td>
</tr>
</tbody>
</table>
</section>

<footer>
<p id="footer_left">Marc Hoyois, <time datetime="2012-08-09">August 9, 2012</time></p>
<p id="footer_right"><a href="#top">To the top</a></p>
<p id="footer_middle"><a href="http://validator.nu/?doc=http%3A%2F%2Fhoyois.github.com%2Fsafariextensions%2Fclicktoplugin%2Fsupport.xhtml">XHTML5</a> • <a href="http://hoyois.github.com/html5outliner/?xml=true&amp;url=http%3A%2F%2Fhoyois.github.com%2Fsafariextensions%2Fclicktoplugin%2Fsupport.xhtml">Outline</a> • <a href="http://jigsaw.w3.org/css-validator/validator?uri=http%3A%2F%2Fhoyois.github.com%2Fstyles.css&amp;profile=css3&amp;usermedium=all&amp;warning=1">CSS3</a></p>
</footer>

</body>
</html>
